<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./reset.css">
    <link rel="stylesheet" href="./style.css">
    <title>Página Inicial</title>

    <!-- Link para poder usar os icones do FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
        integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-stone-200 flex flex-col h-screen">

    <!-- Cabeçalho responsável pelo logo -->
    <header class="bg-neutral-50 h-20 flex justify-between py-1 shadow-md sticky top-0 z-10">
        <div class="flex items-center">
            <a href="./index.html">
                <p class="text-3xl ml-16 font-bold">BOOKSTORE</p>
            </a>
        </div>
    </header>
    <!-- Fim Cabeçalho -->

    <!-- Formulário de informações de entrega e pagamento do cliente  -->
    <form class="flex w-100 px-5 py-10 gap-4 grow">

        <!-- Seção resposável pelas informações cadastrais do usuário -->
        <section id="dados-usuarios" class="flex flex-col w-1/3 bg-white rounded-lg py-5">
            <p class="mb-5 text-center text-amber-700 font-bold">Dados Cadastrais</p>
            <div class="flex flex-col px-10 py-3">
                <label for="nome" class="font-bold text-sm mb-2">Nome</label>
                <input type="text" maxlength="35" id="nome" class="rounded-sm px-2 py-1 border-2 border-slate-200"
                    placeholder="Seu Nome" autocomplete="on" required>
            </div>
            <div class="flex flex-col px-10 py-3">
                <label for="email" class="font-bold text-sm mb-2">E-mail</label>
                <input type="email" pattern="[a-z0-9._%+\-]+@[a-z0-9.\-]+\.[a-z]{2,}$" maxlength="30" id="email"
                    class="rounded-sm px-2 py-1 border-2 border-slate-200" placeholder="Ex: seuemail@gmail.com" autocomplete="off"
                    required>
            </div>
            <div class="flex flex-col px-10 py-3">
                <label for="telefone" class="font-bold text-sm mb-2">Telefone de Contato</label>
                <input type="tel" id="telefone" class="rounded-sm px-2 py-1 border-2 border-slate-200"
                    placeholder="Ex: (xx)xxxxx-xxxx" oninput="formatarTelefone(this)" autocomplete="on" required>

                <script>
                    function formatarTelefone(input) {
                        // Remove todos os caracteres não numéricos
                        var numeroTelefone = input.value.replace(/\D/g, '');

                        // Aplica a formatação "(xx)xxxxx-xxxx"
                        if (numeroTelefone.length >= 2) {
                            numeroTelefone = '(' + numeroTelefone.substring(0, 2) + ')' + numeroTelefone.substring(2);
                        }
                        if (numeroTelefone.length >= 9) {
                            numeroTelefone = numeroTelefone.substring(0, 9) + '-' + numeroTelefone.substring(9);
                        }

                        // Limita o comprimento máximo a 15 caracteres (incluindo a formatação)
                        if (numeroTelefone.length > 15) {
                            numeroTelefone = numeroTelefone.substring(0, 15);
                        }

                        // Atualiza o valor no campo de entrada
                        input.value = numeroTelefone;
                    }
                </script>

            </div>
            <label for="pesquisa" class="font-bold text-sm mx-10 mb-2 mt-2">Por onde conheceu o site?</label>
            <div class="w-full">
                <div class="flex flex-col w-[60%] mx-10 gap-2 border-solid rounded-sm border-2 border-slate-200">
                    <div class="flex gap-1">
                        <input type="checkbox" name="pesquisa" checked id="whatsapp" value="pesquisa" class="ml-1 w-3">
                        <p>Whatsapp</p>
                    </div>
                    <div class="flex gap-1">
                        <input type="checkbox" name="pesquisa" id="instagram" value="pesquisa" class="ml-1 w-3">
                        <p>Instagram</p>
                    </div>
                    <div class="flex gap-1">
                        <input type="checkbox" name="pesquisa" id="professor" value="pesquisa" class="ml-1 w-3">
                        <p>Exercício do professor Rogério</p>
                    </div>
                    <div class="flex gap-1">
                        <input type="checkbox" name="pesquisa" id="outro" value="pesquisa" class="ml-1 w-3">
                        <p>Outro</p>
                    </div>
                </div>
            </div>
            <div class="flex flex-col w-[40%] mx-10 mt-4">
                <label for="sexo" class="font-bold text-sm">Informe seu sexo</label>
                <select name="sexo" id="sexo" required>
                    <option disabled selected>Escolha</option>
                    <option>Prefiro não informar</option>
                    <option>Masculino</option>
                    <option>Feminino</option>
                    <option>Outro</option>
                </select>
            </div>
            <div class="flex flex-col justify-start px-10 py-3 gap-1 w-">
                <label for="experiencia" class="font-bold text-sm mb-1 mt-2">Teve uma experiência agradável com o
                    site?</label>
                <div class="flex gap-2">
                    <input type="radio" value="experiencia" name="experiencia" checked id="sim" class="w-4">
                    <p>Sim</p>
                </div>
                <div class="flex gap-2">
                    <input type="radio" value="experiencia" name="experiencia" id="nao" class="w-4">
                    <p>Não</p>
                </div>
            </div>
        </section>
        <!-- Fim da seção cadastral -->

        <!-- Seção responsável pelas informações de pagamento do produto e endereço de entrega do cliente-->
        <section id="pagamento-entrega" class=" w-1/3 bg-white rounded-lg py-5">
            <p class="mb-5 text-center text-amber-700 font-bold">Pagamento e Entrega</p>
            <div class="flex flex-col px-10 py-3">
                <label for="numero-cartao" class="font-bold text-sm mb-2">Número do Cartão</label>
                <input type="text" maxlength="19" id="numero-cartao"
                    class="rounded-sm px-2 py-1 border-2 border-slate-200" oninput="formatarCartao(this)"
                    placeholder="xxxx xxxx xxxx xxxx" autocomplete="off" required>

                <script>
                    function formatarCartao(input) {
                        // Remove todos os caracteres não numéricos
                        var numeroCartao = input.value.replace(/\D/g, '');

                        // Adicione espaços a cada 4 dígitos
                        var numeroCartaoFormatado = '';
                        for (var i = 0; i < numeroCartao.length; i += 4) {
                            numeroCartaoFormatado += numeroCartao.substr(i, 4) + ' ';
                        }

                        // Remova qualquer espaço adicional no final
                        numeroCartaoFormatado = numeroCartaoFormatado.trim();

                        // Atualize o valor no campo de entrada
                        input.value = numeroCartaoFormatado;
                    }
                </script>
            </div>
            <div class="flex justify-between gap-5">
                <div class="flex flex-col px-10 py-3 w-2/5">
                    <label for="cvv" class="font-bold text-sm mb-2">CVV</label>
                    <input type="text" oninput="formatarCvv(this)" maxlength="3" id="cvv"
                        class="rounded-sm px-2 py-1 border-2 border-slate-200" placeholder="xxx" autocomplete="off" required>

                    <script>
                        function formatarCvv(input) {
                            // Remove todos os caracteres não numéricos
                            var numeroCvv = input.value.replace(/\D/g, '');

                            // Atualize o valor no campo de entrada
                            input.value = numeroCvv;
                        }
                    </script>
                </div>
                <div class="flex flex-col px-10 py-3 w-2/4">
                    <label for="data-validade" class="font-bold text-sm mb-2">Data de Validade</label>
                    <input type="month" min="2018-03" max="2050-12" value="2018-05" id="data-validade"
                        class="rounded-sm px-2 py-1 border-2 border-slate-200" autocomplete="off" oninput="validarDataValidade(this)"
                        required>

                    <script>
                        function validarDataValidade(input) {
                            var dataValidade = input.value;
                            var minDate = input.min;
                            var maxDate = input.max;

                            if (dataValidade < minDate) {
                                input.setCustomValidity("A data de validade é anterior à data mínima permitida.");
                            } else if (dataValidade > maxDate) {
                                input.setCustomValidity("A data de validade é posterior à data máxima permitida.");
                            } else {
                                input.setCustomValidity("");
                            }
                        }
                    </script>
                </div>
            </div>

            <div class="flex gap-5">
                <div class="w-1/2 flex flex-col pl-10 py-3">
                    <label for="cep" class="font-bold text-sm mb-2">CEP</label>
                    <input type="text" id="cep" maxlength="9" class="rounded-sm px-2 py-1 border-2 border-slate-200"
                        placeholder="xxxxx-xxx" autocomplete="on" oninput="formatarCep(this)" required>

                    <script>
                        function formatarCep(input) {
                            // Remove todos os caracteres não numéricos
                            var numeroCep = input.value.replace(/\D/g, '');

                            // Adicione a formatação "xxxxx-xxx"
                            if (numeroCep.length > 5) {
                                numeroCep = numeroCep.slice(0, 5) + '-' + numeroCep.slice(5);
                            }

                            // Atualize o valor no campo de entrada
                            input.value = numeroCep;
                        }

                    </script>
                </div>
                <div class="flex flex-col px-10 py-3">
                    <label for="numero-residencia" class="font-bold text-sm mb-2">Número</label>
                    <input type="text" id="numero-residencia" class="rounded-sm px-2 py-1 border-2 border-slate-200"
                        placeholder="Ex: xx ou xx-A" autocomplete="on" required>
                </div>
            </div>

            <div class="flex gap-5">
                <div class="flex flex-col pl-10 py-3">
                    <label for="cidade" class="font-bold text-sm mb-2">Cidade</label>
                    <input type="text" id="cidade" class="rounded-sm px-2 py-1 border-2 border-slate-200"
                        placeholder="Ex: xx ou xx-A" autocomplete="on" required>
                </div>
                <div class="flex flex-col pl-10 py-3">
                    <label for="estado" class="font-bold text-sm mb-2">Estado</label>
                    <input type="text" id="estado" class="rounded-sm px-2 py-1 border-2 border-slate-200"
                        placeholder="Ex: xx ou xx-A" autocomplete="on" required>
                </div>
            </div>

            <div class="flex flex-col gap-5">
                <div class="flex flex-col px-10 py-3">
                    <label for="rua" class="font-bold text-sm mb-2">Rua</label>
                    <input type="text" id="rua" class="rounded-sm px-2 py-1 border-2 border-slate-200" autocomplete="on" required>
                </div>

                <div class="flex flex-col px-10 py-3">
                    <label for="complemento" class="font-bold text-sm mb-2">Complemento</label>
                    <input type="text" id="complemento" autocomplete="on" class="rounded-sm px-2 py-1 border-2 border-slate-200">
                </div>
            </div>

            <div class="flex flex-col justify-start px-10 py-3 gap-2 mt-2">
                <label for="presente" class="font-bold text-sm mb-2">Embalar para presente?</label>
                <div class="flex gap-2">
                    <input type="radio" value="presente" name="presente" checked class="w-4">
                    <p>Sim</p>
                </div>
                <div class="flex gap-2">
                    <input type="radio" value="presente" name="presente" class="w-4">
                    <p>Não</p>
                </div>
            </div>
        </section>
        <!-- Fim seção pagamento e entrega -->

        <!-- Seção responsável pela confirmação do carrinho -->
        <section id="produtos-checkout" class="flex flex-col w-1/3 bg-white rounded-lg py-5">

            <p class="mb-7 text-center text-amber-700 font-bold">Resumo Do Carrinho</p>

            <!-- Seção destinada a conter os produtos adicionadois ao carrinho gerado dinâmicamente pelo Js -->
            <section id="container-produtos-checkout" class="h-4/5 overflow-y-auto px-2 rounded-lg"></section>

            <section id="celula-checkout" class="flex flex-col justify-between px-2 h-1/5">
                <p id="preco-total" class="bg-stone-200 font-semibold text-green-800 rounded-sm p-1">Total: R$ </p>
                <button
                    class="p-3 bg-amber-600 text-black font-bold p-2 rounded-lg duration-500 hover:bg-amber-800 hover:duration-300 hover:ease-out active:bg-amber-700 active:ease-in"
                    type="submit">Finalizar Compra</button>
            </section>
        </section>
        <!-- Fim seção confirmação do carrinho -->
    </form>

    <!-- É 'type="module"' pois indica que o arquivo pode exportar e imoprtar de outros arquivos Js -->
    <script src="./checkout.js"></script>
</body>

</html>